webpackJsonp([8],{"+V+a":function(t,e){},"+Xq4":function(t,e){},"+ed2":function(t,e){},"+j82":function(t,e){!function(){if("undefined"!=typeof window){var t,e="ontouchstart"in window;document.createTouch||(document.createTouch=function(t,e,r,o,s,a,i){return new n(e,r,{pageX:o,pageY:s,screenX:a,screenY:i,clientX:o-window.pageXOffset,clientY:s-window.pageYOffset},0,0)}),document.createTouchList||(document.createTouchList=function(){for(var t=o(),e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length=arguments.length,t}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(t){var e=this;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});var n=function(t,e,n,r,o){r=r||0,o=o||0,this.identifier=e,this.target=t,this.clientX=n.clientX+r,this.clientY=n.clientY+o,this.screenX=n.screenX+r,this.screenY=n.screenY+o,this.pageX=n.pageX+r,this.pageY=n.pageY+o},r=!1;u.multiTouchOffset=75,e||new u}function o(){var t=[];return t.item=function(t){return this[t]||null},t.identifiedTouch=function(t){return this[t+1]||null},t}function s(e){return function(n){var o,s,u;("mousedown"===n.type&&(r=!0),"mouseup"===n.type&&(r=!1),"mousemove"!==n.type||r)&&(("mousedown"===n.type||!t||t&&!t.dispatchEvent)&&(t=n.target),null==t.closest("[data-no-touch-simulate]")&&(o=e,s=n,(u=document.createEvent("Event")).initEvent(o,!0,!0),u.altKey=s.altKey,u.ctrlKey=s.ctrlKey,u.metaKey=s.metaKey,u.shiftKey=s.shiftKey,u.touches=i(s),u.targetTouches=i(s),u.changedTouches=a(s),t.dispatchEvent(u)),"mouseup"===n.type&&(t=null))}}function a(e){var r=o();return r.push(new n(t,1,e,0,0)),r}function i(t){return"mouseup"===t.type?o():a(t)}function u(){window.addEventListener("mousedown",s("touchstart"),!0),window.addEventListener("mousemove",s("touchmove"),!0),window.addEventListener("mouseup",s("touchend"),!0)}}()},"/SKB":function(t,e){},0:function(t,e){},"0+S2":function(t,e){},"0DIp":function(t,e){},"0Udj":function(t,e){},"0Y+T":function(t,e){},"8a0f":function(t,e){},"9NA7":function(t,e){},"9S6h":function(t,e){},"9fCr":function(t,e){},CNiB:function(t,e){},"D+QW":function(t,e){},HZoF:function(t,e){},KOkH:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});n("tAVL");var r=n("z90b"),o=n.n(r),s=(n("xisQ"),n("SBrL")),a=n.n(s),i=(n("uvlK"),n("lxre")),u=n.n(i),c=(n("dlG5"),n("MpXg")),l=n.n(c),d=(n("OMF1"),n("Maz4")),f=n.n(d),h=(n("jydU"),n("WQwN")),p=n.n(h),g=(n("9ULi"),n("lQdh")),m=n.n(g),v=(n("Mcfu"),n("r9aq")),y=n.n(v),x=(n("QP/A"),n("pyxX")),w=n.n(x),T=(n("cnGM"),n("S6j6")),C=n.n(T),b=(n("tcuZ"),n("iMPx")),k=n.n(b),S=(n("FDxC"),n("w+oK")),A=n.n(S),I=(n("GKy3"),n("4vvA")),B=n.n(I),U=(n("tLo2"),n("blRl")),E=n.n(U),D=(n("2PSJ"),n("A9fu")),M=n.n(D),G=(n("wvM5"),n("MyDk")),X=n.n(G),$=(n("MHRi"),n("6xqC")),R=n.n($),N=(n("Rv11"),n("TMdk")),Y=n.n(N),L=(n("dL9u"),n("L00R")),j=n.n(L),q=(n("jgNZ"),n("syWm")),P=n.n(q),z=(n("dKGA"),n("kSul")),F=n.n(z),V=(n("CCOf"),n("rrcz")),K=n.n(V),O=(n("3evy"),n("Irlo")),H=n.n(O),_=(n("i9vB"),n("Mqtp")),W=n.n(_),Z=(n("pLKN"),n("mZJz")),Q=n.n(Z),J=(n("uTM9"),n("Jq84")),tt=n.n(J),et=(n("ZV4y"),n("fcGX")),nt=n.n(et),rt=n("7+uW"),ot={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{class:{"u-app":this.uapp},attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var st=n("VU/8")({name:"App",data:function(){return{uapp:!1}}},ot,!1,function(t){n("oXHB")},null,null).exports,at=n("/ocq"),it=n("NYxO");rt.default.use(it.a);var ut=new it.a.Store({state:{token:"",smsToken:"",userInfo:{}},mutations:{setToken:function(t,e){t.token=e,localStorage.setItem("token",e)},setUserInfo:function(t,e){t.userInfo=e,localStorage.setItem("userInfo",JSON.stringify(e))},setSMSToken:function(t,e){t.smsToken=e,localStorage.setItem("smsToken",e)},clear:function(t){t.token="",t.smsToken="",t.userInfo={},localStorage.setItem("token",""),localStorage.setItem("userInfo",{}),localStorage.setItem("smsToken","")}},getters:{getToken:function(t){return function(){return""==t.token&&(t.token=localStorage.getItem("token")),t.token}},getUserInfo:function(t){return function(){return void 0==t.userInfo.studentName&&(t.userInfo=JSON.parse(localStorage.getItem("userInfo"))),t.userInfo}},getSMSToken:function(t){return function(){return""==t.smsToken&&(t.smsToken=localStorage.getItem("smsToken")),t.smsToken}}},actions:{},modules:{}});rt.default.use(at.a);var ct=new at.a({routes:[{path:"/",name:"Home",component:function(){return n.e(3).then(n.bind(null,"xkS0"))},redirect:"/index",meta:{keepAlive:!0},children:[{path:"/index",name:"index",component:function(){return Promise.all([n.e(0),n.e(4)]).then(n.bind(null,"mlqX"))},meta:{keepAlive:!0}},{path:"/exam",name:"exam",component:function(){return n.e(1).then(n.bind(null,"Pj63"))},meta:{keepAlive:!0}},{path:"/subject",name:"subject",component:function(){return n.e(2).then(n.bind(null,"V3Wk"))}},{path:"/user",name:"user",component:function(){return Promise.all([n.e(0),n.e(6)]).then(n.bind(null,"i/Eh"))},meta:{keepAlive:!0}}]},{path:"/login",name:"login",component:function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,"UkDw"))},meta:{anonymous:!0}}]});ct.beforeEach(function(t,e,n){if(""!=ut.getters.getToken()||"/login"===t.path)return n();n({path:"/login"})});var lt=ct,dt=n("mtWM"),ft=n.n(dt),ht=n("7hDC"),pt=n.n(ht),gt=n("En79"),mt=n.n(gt),vt=n("PXCl"),yt=n("mtWM"),xt=n("mw3O"),wt="4.1.0";function Tt(t,e){return"my"==t?"https://szone-my.7net.cc"+e:"api"==t?"https://szone-api.7net.cc"+e:"score"==t?"https://szone-score.7net.cc"+e:void 0}function Ct(){return bt.apply(this,arguments)}function bt(){return(bt=pt()(mt.a.mark(function t(){var e,n;return mt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=ut.getters.getToken(),t.next=3,yt.get(Tt("my","/userInfo/GetUserInfo"),{headers:{Version:wt,Token:e}});case 3:return 200==(n=t.sent).status&&200==n.data.status?ut.commit("setUserInfo",n.data.data):It(),t.abrupt("return",n);case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function kt(){return(kt=pt()(mt.a.mark(function t(e,n){var r,o;return mt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={userCode:e,password:vt.encode(n)},t.next=3,yt.post(Tt("my","/login"),xt.stringify(r),{headers:{Version:wt}});case 3:return 200==(o=t.sent).status&&200==o.data.status&&(ut.commit("setToken",o.data.data.token),o=Ct()),t.abrupt("return",o);case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function St(){return(St=pt()(mt.a.mark(function t(e){var n,r;return mt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={userCode:vt.encode(e)},t.next=3,yt.post(Tt("my","/login/sendsms"),xt.stringify(n),{headers:{Version:wt}});case 3:return 200==(r=t.sent).status&&200==r.data.status&&ut.commit("setSMSToken",r.data.data.token),t.abrupt("return",r);case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function At(){return(At=pt()(mt.a.mark(function t(e,n){var r,o;return mt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={userCode:e,verifyCode:n,token:ut.getters.getSMSToken()},t.next=3,yt.post(Tt("my","/login/entry"),xt.stringify(r),{headers:{Version:wt}});case 3:return o=t.sent,console.log(o),200==o.status&&200==o.data.status&&(ut.commit("setToken",o.data.data.token),o=Ct()),t.abrupt("return",o);case 7:case"end":return t.stop()}},t)}))).apply(this,arguments)}function It(){ut.commit("clear")}function Bt(){return(Bt=pt()(mt.a.mark(function t(){var e,n;return mt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=ut.getters.getUserInfo(),n={studentName:e.studentName,schoolGuid:e.schoolGuid},t.next=4,yt.get(Tt("score","/exam/getExamCount?")+xt.stringify(n),{headers:{Version:wt,Token:ut.getters.getToken()}});case 4:t.sent;case 5:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Ut(){return(Ut=pt()(mt.a.mark(function t(e,n){var r,o,s;return mt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=ut.getters.getUserInfo(),o={grade:r.grade,rows:e,startIndex:n,schoolGuid:r.schoolGuid,studentName:r.studentName},t.next=4,yt.get(Tt("score","/exam/getClaimExams?")+xt.stringify(o),{headers:{Version:wt,Token:ut.getters.getToken()}});case 4:return 200==(s=t.sent).status&&401==s.data.status&&It(),t.abrupt("return",s);case 7:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Et(){return(Et=pt()(mt.a.mark(function t(e){var n,r,o;return mt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("---query subject info---"),n={examGuid:e.examGuid,studentCode:e.studentCode,schoolGuid:e.schoolGuid,grade:e.gradeCodeString,ruCode:e.ruCode,examType:e.examType},r={Version:wt,Token:ut.getters.getToken(),"Content-Type":"application/x-www-form-urlencoded"},t.next=5,yt.post(Tt("score","/Question/Subjects"),xt.stringify(n),{headers:r});case 5:return o=t.sent,console.log(o),t.abrupt("return",o);case 8:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Dt(){return(Dt=pt()(mt.a.mark(function t(e,n,r){var o,s,a,i;return mt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("---query subject grade---"),o=ut.getters.getUserInfo(),s={schoolGuid:e.schoolGuid,studentCode:e.studentCode,studentName:o.studentName,grade:e.gradeCodeString,ruCode:e.ruCode,examGuid:e.examGuid,examSchoolGuid:n.schoolGuid,examType:n.examType,subject:r.km,compareClassAvg:r.compareClassAvg},a={Version:wt,Token:ut.getters.getToken(),"Content-Type":"application/x-www-form-urlencoded"},t.next=6,yt.post(Tt("score","/Question/SubjectGrade"),xt.stringify(s),{headers:a});case 6:return i=t.sent,console.log(i),t.abrupt("return",i);case 9:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Mt(){return(Mt=pt()(mt.a.mark(function t(e,n,r){var o,s,a,i;return mt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("---query answer card---"),o=ut.getters.getUserInfo(),s={asiresponse:r.question.asiresponse,examGuid:e.examGuid,srcSubject:r.srcKM,studentName:o.studentName,ruCode:e.ruCode,scoreStatus:"-1",schoolGuid:e.schoolGuid},a={Version:wt,Token:ut.getters.getToken(),"Content-Type":"application/x-www-form-urlencoded"},t.next=6,yt.post(Tt("score","/Question/AnswerCardUrl"),xt.stringify(s),{headers:a});case 6:return i=t.sent,t.abrupt("return",i);case 8:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Gt(){return(Gt=pt()(mt.a.mark(function t(e,n,r){var o,s,a;return mt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("---query ths---"),console.log("---para---"),console.log(e),console.log("---exam---"),console.log(n),console.log("---sub---"),console.log(r),ut.getters.getUserInfo(),o={examGuid:e.examGuid,subject:r.km,srcSubject:r.srcKM,schoolGuid:e.schoolGuid,ruCode:e.ruCode,unitCode:n.unitCode,examType:n.examType,code:r.code,grade:e.gradeCodeString,vip:1},s={Version:wt,Token:ut.getters.getToken(),"Content-Type":"application/x-www-form-urlencoded"},t.next=12,yt.post(Tt("score","/Question/THAnswers"),xt.stringify(o),{headers:s});case 12:return a=t.sent,t.abrupt("return",a);case 14:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Xt(){return(Xt=pt()(mt.a.mark(function t(e,n,r){var o,s,a,i;return mt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=ut.getters.getUserInfo(),s={examGuid:e.examGuid,subject:r.km,studentName:o.studentName,schoolGuid:e.schoolGuid,studentCode:e.studentCode,ruCode:e.ruCode,scoreStatus:"-1"},a={Version:wt,Token:ut.getters.getToken(),"Content-Type":"application/x-www-form-urlencoded"},t.next=5,yt.post(Tt("score","/Question/Knowledge"),xt.stringify(s),{headers:a});case 5:return i=t.sent,t.abrupt("return",i);case 7:case"end":return t.stop()}},t)}))).apply(this,arguments)}var $t={queryUserInfo:Ct,getSMSCode:function(t){return St.apply(this,arguments)},userLogin:function(t,e){return kt.apply(this,arguments)},phoneLogin:function(t,e){return At.apply(this,arguments)},userLogout:It,queryExamCount:function(){return Bt.apply(this,arguments)},queryExamList:function(t,e){return Ut.apply(this,arguments)},querySubjectInfo:function(t){return Et.apply(this,arguments)},querySubjectGrade:function(t,e,n){return Dt.apply(this,arguments)},queryAnswerCard:function(t,e,n){return Mt.apply(this,arguments)},queryQuestionTHs:function(t,e,n){return Gt.apply(this,arguments)},queryQuestionKownledge:function(t,e,n){return Xt.apply(this,arguments)},calcGradeLevel:function(t,e){var n=t/e;return n<=.01?"A1":n<=.03?"A2":n<=.06?"A3":n<=.1?"A4":n<=.15?"A5":n<=.21?"B1":n<=.28?"B2":n<=.36?"B3":n<=.43?"B4":n<=.5?"B5":n<=.57?"C1":n<=.64?"C2":n<=.71?"C3":n<=.78?"C4":n<=.84?"C5":n<=.89?"D1":n<=.93?"D2":n<=.96?"D3":n<=.98?"D4":n<=.99?"D5":"E"}},Rt=n("mw3O"),Nt=n.n(Rt),Yt=n("I0MY"),Lt=n.n(Yt),jt=n("hilY");n("+j82");rt.default.use(nt.a),rt.default.use(tt.a),rt.default.use(Q.a),rt.default.use(jt.a),rt.default.use(W.a),rt.default.use(H.a),rt.default.use(K.a),rt.default.use(F.a),rt.default.use(P.a),rt.default.use(j.a),rt.default.use(Y.a),rt.default.use(R.a),rt.default.use(X.a),rt.default.use(M.a),rt.default.use(E.a),rt.default.use(B.a),rt.default.use(A.a),rt.default.use(k.a),rt.default.use(C.a),rt.default.use(w.a),rt.default.use(y.a),rt.default.use(m.a),rt.default.use(p.a),rt.default.use(f.a),rt.default.use(l.a),rt.default.use(u.a),rt.default.use(a.a),rt.default.use(o.a),rt.default.use(Lt.a),rt.default.config.productionTip=!1,rt.default.prototype.http=ft.a,rt.default.prototype.zone=$t,rt.default.prototype.qs=Nt.a,rt.default.prototype.user={id:0,name:"",token:0,icon:""},ft.a.defaults.baseURL="",new rt.default({el:"#app",store:ut,router:lt,components:{App:st},template:"<App/>"})},OEKK:function(t,e){},PXCl:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){n.d(e,"version",function(){return r}),n.d(e,"VERSION",function(){return o}),n.d(e,"atob",function(){return D}),n.d(e,"atobPolyfill",function(){return E}),n.d(e,"btoa",function(){return y}),n.d(e,"btoaPolyfill",function(){return v}),n.d(e,"fromBase64",function(){return R}),n.d(e,"toBase64",function(){return S}),n.d(e,"utob",function(){return b}),n.d(e,"encode",function(){return S}),n.d(e,"encodeURI",function(){return A}),n.d(e,"encodeURL",function(){return A}),n.d(e,"btou",function(){return U}),n.d(e,"decode",function(){return R}),n.d(e,"isValid",function(){return N}),n.d(e,"fromUint8Array",function(){return w}),n.d(e,"toUint8Array",function(){return G}),n.d(e,"extendString",function(){return L}),n.d(e,"extendUint8Array",function(){return j}),n.d(e,"extendBuiltins",function(){return q}),n.d(e,"Base64",function(){return P});const r="3.7.2",o=r,s="function"==typeof atob,a="function"==typeof btoa,i="function"==typeof t,u="function"==typeof TextDecoder?new TextDecoder:void 0,c="function"==typeof TextEncoder?new TextEncoder:void 0,l=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),d=(t=>{let e={};return l.forEach((t,n)=>e[t]=n),e})(),f=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,h=String.fromCharCode.bind(String),p="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):(t,e=(t=>t))=>new Uint8Array(Array.prototype.slice.call(t,0).map(e)),g=t=>t.replace(/=/g,"").replace(/[+\/]/g,t=>"+"==t?"-":"_"),m=t=>t.replace(/[^A-Za-z0-9\+\/]/g,""),v=t=>{let e,n,r,o,s="";const a=t.length%3;for(let a=0;a<t.length;){if((n=t.charCodeAt(a++))>255||(r=t.charCodeAt(a++))>255||(o=t.charCodeAt(a++))>255)throw new TypeError("invalid character found");s+=l[(e=n<<16|r<<8|o)>>18&63]+l[e>>12&63]+l[e>>6&63]+l[63&e]}return a?s.slice(0,a-3)+"===".substring(a):s},y=a?t=>btoa(t):i?e=>t.from(e,"binary").toString("base64"):v,x=i?e=>t.from(e).toString("base64"):t=>{let e=[];for(let n=0,r=t.length;n<r;n+=4096)e.push(h.apply(null,t.subarray(n,n+4096)));return y(e.join(""))},w=(t,e=!1)=>e?g(x(t)):x(t),T=t=>{if(t.length<2)return(e=t.charCodeAt(0))<128?t:e<2048?h(192|e>>>6)+h(128|63&e):h(224|e>>>12&15)+h(128|e>>>6&63)+h(128|63&e);var e=65536+1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320);return h(240|e>>>18&7)+h(128|e>>>12&63)+h(128|e>>>6&63)+h(128|63&e)},C=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,b=t=>t.replace(C,T),k=i?e=>t.from(e,"utf8").toString("base64"):c?t=>x(c.encode(t)):t=>y(b(t)),S=(t,e=!1)=>e?g(k(t)):k(t),A=t=>S(t,!0),I=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,B=t=>{switch(t.length){case 4:var e=((7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3))-65536;return h(55296+(e>>>10))+h(56320+(1023&e));case 3:return h((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return h((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},U=t=>t.replace(I,B),E=t=>{if(t=t.replace(/\s+/g,""),!f.test(t))throw new TypeError("malformed base64.");t+="==".slice(2-(3&t.length));let e,n,r,o="";for(let s=0;s<t.length;)e=d[t.charAt(s++)]<<18|d[t.charAt(s++)]<<12|(n=d[t.charAt(s++)])<<6|(r=d[t.charAt(s++)]),o+=64===n?h(e>>16&255):64===r?h(e>>16&255,e>>8&255):h(e>>16&255,e>>8&255,255&e);return o},D=s?t=>atob(m(t)):i?e=>t.from(e,"base64").toString("binary"):E,M=i?e=>p(t.from(e,"base64")):t=>p(D(t),t=>t.charCodeAt(0)),G=t=>M($(t)),X=i?e=>t.from(e,"base64").toString("utf8"):u?t=>u.decode(M(t)):t=>U(D(t)),$=t=>m(t.replace(/[-_]/g,t=>"-"==t?"+":"/")),R=t=>X($(t)),N=t=>{if("string"!=typeof t)return!1;const e=t.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(e)||!/[^\s0-9a-zA-Z\-_]/.test(e)},Y=t=>({value:t,enumerable:!1,writable:!0,configurable:!0}),L=function(){const t=(t,e)=>Object.defineProperty(String.prototype,t,Y(e));t("fromBase64",function(){return R(this)}),t("toBase64",function(t){return S(this,t)}),t("toBase64URI",function(){return S(this,!0)}),t("toBase64URL",function(){return S(this,!0)}),t("toUint8Array",function(){return G(this)})},j=function(){const t=(t,e)=>Object.defineProperty(Uint8Array.prototype,t,Y(e));t("toBase64",function(t){return w(this,t)}),t("toBase64URI",function(){return w(this,!0)}),t("toBase64URL",function(){return w(this,!0)})},q=()=>{L(),j()},P={version:r,VERSION:o,atob:D,atobPolyfill:E,btoa:y,btoaPolyfill:v,fromBase64:R,toBase64:S,encode:S,encodeURI:A,encodeURL:A,utob:b,btou:U,decode:R,isValid:N,fromUint8Array:w,toUint8Array:G,extendString:L,extendUint8Array:j,extendBuiltins:q}}.call(e,n("EuP9").Buffer)},UR9n:function(t,e){},"Uf+m":function(t,e){},V08F:function(t,e){},XqYu:function(t,e){},YAYC:function(t,e){},"Z+4s":function(t,e){},Zzpz:function(t,e){},aG1J:function(t,e){},"c/In":function(t,e){},gMie:function(t,e){},hSFT:function(t,e){},j7dL:function(t,e){},jLuM:function(t,e){},k86u:function(t,e){},ldAg:function(t,e){},"lk/p":function(t,e){},nqem:function(t,e){},oXHB:function(t,e){},s1Ps:function(t,e){},sPX0:function(t,e,n){"use strict";var r={props:{width:{type:Number,default:800},height:{type:Number,default:300},lineWidth:{type:Number,default:4},lineColor:{type:String,default:"#000000"},bgColor:{type:String,default:""},isCrop:{type:Boolean,default:!1},isClearBgColor:{type:Boolean,default:!0},format:{type:String,default:"image/png"},quality:{type:Number,default:1}},data:()=>({hasDrew:!1,resultImg:"",points:[],canvasTxt:null,startX:0,startY:0,isDrawing:!1,sratio:1}),computed:{ratio(){return this.height/this.width},stageInfo(){return this.$refs.canvas.getBoundingClientRect()},myBg(){return this.bgColor?this.bgColor:"rgba(255, 255, 255, 0)"}},watch:{myBg:function(t){this.$refs.canvas.style.background=t}},beforeMount(){window.addEventListener("resize",this.$_resizeHandler)},beforeDestroy(){window.removeEventListener("resize",this.$_resizeHandler)},mounted(){const t=this.$refs.canvas;t.height=this.height,t.width=this.width,t.style.background=this.myBg,this.$_resizeHandler(),document.onmouseup=(()=>{this.isDrawing=!1})},methods:{$_resizeHandler(){const t=this.$refs.canvas;t.style.width=this.width+"px";const e=parseFloat(window.getComputedStyle(t).width);t.style.height=this.ratio*e+"px",this.canvasTxt=t.getContext("2d"),this.canvasTxt.scale(1*this.sratio,1*this.sratio),this.sratio=e/this.width,this.canvasTxt.scale(1/this.sratio,1/this.sratio)},mouseDown(t){(t=t||event).preventDefault(),this.isDrawing=!0,this.hasDrew=!0;let e={x:t.offsetX,y:t.offsetY};this.drawStart(e)},mouseMove(t){if((t=t||event).preventDefault(),this.isDrawing){let e={x:t.offsetX,y:t.offsetY};this.drawMove(e)}},mouseUp(t){(t=t||event).preventDefault();let e={x:t.offsetX,y:t.offsetY};this.drawEnd(e),this.isDrawing=!1},touchStart(t){if((t=t||event).preventDefault(),this.hasDrew=!0,1===t.touches.length){let e={x:t.targetTouches[0].clientX-this.$refs.canvas.getBoundingClientRect().left,y:t.targetTouches[0].clientY-this.$refs.canvas.getBoundingClientRect().top};this.drawStart(e)}},touchMove(t){if((t=t||event).preventDefault(),1===t.touches.length){let e={x:t.targetTouches[0].clientX-this.$refs.canvas.getBoundingClientRect().left,y:t.targetTouches[0].clientY-this.$refs.canvas.getBoundingClientRect().top};this.drawMove(e)}},touchEnd(t){if((t=t||event).preventDefault(),1===t.touches.length){let e={x:t.targetTouches[0].clientX-this.$refs.canvas.getBoundingClientRect().left,y:t.targetTouches[0].clientY-this.$refs.canvas.getBoundingClientRect().top};this.drawEnd(e)}},drawStart(t){this.startX=t.x,this.startY=t.y,this.canvasTxt.beginPath(),this.canvasTxt.moveTo(this.startX,this.startY),this.canvasTxt.lineTo(t.x,t.y),this.canvasTxt.lineCap="round",this.canvasTxt.lineJoin="round",this.canvasTxt.lineWidth=this.lineWidth*this.sratio,this.canvasTxt.stroke(),this.canvasTxt.closePath(),this.points.push(t)},drawMove(t){this.canvasTxt.beginPath(),this.canvasTxt.moveTo(this.startX,this.startY),this.canvasTxt.lineTo(t.x,t.y),this.canvasTxt.strokeStyle=this.lineColor,this.canvasTxt.lineWidth=this.lineWidth*this.sratio,this.canvasTxt.lineCap="round",this.canvasTxt.lineJoin="round",this.canvasTxt.stroke(),this.canvasTxt.closePath(),this.startY=t.y,this.startX=t.x,this.points.push(t)},drawEnd(t){this.canvasTxt.beginPath(),this.canvasTxt.moveTo(this.startX,this.startY),this.canvasTxt.lineTo(t.x,t.y),this.canvasTxt.lineCap="round",this.canvasTxt.lineJoin="round",this.canvasTxt.stroke(),this.canvasTxt.closePath(),this.points.push(t),this.points.push({x:-1,y:-1})},generate(t){let e=t&&t.format?t.format:this.format,n=t&&t.quality?t.quality:this.quality;return new Promise((t,r)=>{if(this.hasDrew){var o=this.canvasTxt.getImageData(0,0,this.$refs.canvas.width,this.$refs.canvas.height);this.canvasTxt.globalCompositeOperation="destination-over",this.canvasTxt.fillStyle=this.myBg,this.canvasTxt.fillRect(0,0,this.$refs.canvas.width,this.$refs.canvas.height),this.resultImg=this.$refs.canvas.toDataURL(e,n);var s=this.resultImg;if(this.canvasTxt.clearRect(0,0,this.$refs.canvas.width,this.$refs.canvas.height),this.canvasTxt.putImageData(o,0,0),this.canvasTxt.globalCompositeOperation="source-over",this.isCrop){const t=this.getCropArea(o.data);var a=document.createElement("canvas");const r=a.getContext("2d");a.width=t[2]-t[0],a.height=t[3]-t[1];const i=this.canvasTxt.getImageData(...t);r.globalCompositeOperation="destination-over",r.putImageData(i,0,0),r.fillStyle=this.myBg,r.fillRect(0,0,a.width,a.height),s=a.toDataURL(e,n),a=null}t(s)}else r("Warning: Not Signned!")})},reset(){this.canvasTxt.clearRect(0,0,this.$refs.canvas.width,this.$refs.canvas.height),this.isClearBgColor&&(this.$emit("update:bgColor",""),this.$refs.canvas.style.background="rgba(255, 255, 255, 0)"),this.points=[],this.hasDrew=!1,this.resultImg=""},getCropArea(t){for(var e=this.$refs.canvas.width,n=0,r=this.$refs.canvas.height,o=0,s=0;s<this.$refs.canvas.width;s++)for(var a=0;a<this.$refs.canvas.height;a++){var i=4*(s+this.$refs.canvas.width*a);(t[i]>0||t[i+1]>0||t[i+2]||t[i+3]>0)&&(o=Math.max(a,o),n=Math.max(s,n),r=Math.min(a,r),e=Math.min(s,e))}return[++e,++r,++n,++o]}}},o={render:function(){var t=this.$createElement;return(this._self._c||t)("canvas",{ref:"canvas",on:{mousedown:this.mouseDown,mousemove:this.mouseMove,mouseup:this.mouseUp,touchstart:this.touchStart,touchmove:this.touchMove,touchend:this.touchEnd}})},staticRenderFns:[]};var s=n("VU/8")(r,o,!1,function(t){n("ldAg")},"data-v-a1968bcc",null);e.a=s.exports},"vm/u":function(t,e){},yggM:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.64788adcc5c74f1186bc.js.map